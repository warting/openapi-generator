(*
 * This file has been generated by the OCamlClientCodegen generator for openapi-generator.
 *
 * Generated by: https://openapi-generator.tech
 *
 *)


        type t =
            | AnyOf0 of string
            | AnyOf1 of Enums.any_of_1
        [@@deriving show, eq];;
        
        let to_yojson = function
            | AnyOf0 v -> [%to_yojson: string] v
            | AnyOf1 v -> [%to_yojson: Enums.any_of_1] v
        
        (* Manual implementations because the derived one encodes into a tuple list where the first element is the constructor name. *)
        
        let of_yojson json =
          [
            [%of_yojson: string] json
              |> Stdlib.Result.to_option
              |> Stdlib.Option.map (fun v -> AnyOf0 v);
            [%of_yojson: Enums.any_of_1] json
              |> Stdlib.Result.to_option
              |> Stdlib.Option.map (fun v -> AnyOf1 v);
                        ]
          |> Stdlib.List.filter_map (Fun.id)
          |> function
             | t :: _ -> Ok t (* Return the first successful parsing. *)
             | [] -> Error ("Failed to parse JSON " ^ Yojson.Safe.show json ^ " into a value of type Test_model_optional_url.t")

    

